<html>
  <head> </head>
  <body>
    <!-- Using your preferred programming language, set the 'action' attribute with the value of the query string parameter containing the 'deviceDataCollection.url' from the device data initialization response -->
    <form id="collectionForm" name="devicedata" method="POST" action="">
      <!-- Using your preferred programming language, set the 'value' attribute with the value of the query string parameter containing the 'deviceDataCollection.bin' from the device data initialization response -->
      <input type="hidden" id="bin" name="Bin" value="" />

      <!-- Using your preferred programming language, set the 'value' attribute with the value of the query string parameter containing the 'deviceDataCollection.jwt' from the device data initialization response -->

      <input type="hidden" id="jwt" name="JWT" value="" />
    </form>

    <script>
      window.onload = function () {
        window.onload = function () {
          setTimeout(initializeAndSubmitForm, 500); // Adjust delay as needed
        };
        function initializeAndSubmitForm() {
          // const form = document.forms["devicedata"];
          // form.action = localStorage.getItem("DDC_URL");
          document.getElementById("collectionForm").action =
            localStorage.getItem("DDC_URL");
          // document.querySelector('input[name="Bin"]').value =
          //   localStorage.getItem("DDC_BIN");
          // document.querySelector('input[name="JWT"]').value =
          //   localStorage.getItem("DDC_TOKEN");
          document.getElementById("bin").value =
            localStorage.getItem("DDC_BIN");
          document.getElementById("jwt").value =
            localStorage.getItem("DDC_TOKEN");
          document.getElementById("collectionForm").submit();
        }
      };
    </script>
  </body>
</html>
